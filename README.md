# Daily Email

## ğŸª„ ä¸»è¦åŠŸèƒ½

* çˆ¬å–å¤©æ°”ã€ONEã€çŸ¥ä¹ã€çŒ«å’ªç…§ç‰‡ã€æ¯æ—¥ä¸€ä¸ªè‹±è¯­å•è¯å¹¶å°†æ•°æ®æ•´åˆä¸ºé‚®ä»¶å¹¶å®šæ—¶å‘é€ã€‚
* çºªå¿µæ—¥ï¼šé…ç½®çºªå¿µæ—¥æé†’ã€‚
* ...



## ğŸ¤– æ•ˆæœ

![img](http://182.61.149.102/dailyEmail.jpg)



## ğŸš€ å¼€å§‹

* å®‰è£…ä¾èµ–

```powershell
npm install
```

* è¿è¡Œ éœ€è¦å…ˆåˆ‡åˆ°é¡¹ç›®ç›®å½•ä¸‹

```powershell
node index.js
```

### æœåŠ¡å™¨ä¸­ä½¿ç”¨pm2

* è¿è¡Œä¸€ä¸ªè¿›ç¨‹ï¼Œé€šè¿‡`--name`é‡å‘½åä¸ºfooï¼Œ`--watch`ç›‘å¬è¯¥è¿›ç¨‹

```powershell
pm2 start index.js --name foo --watch
```



## ğŸ›  é…ç½®æ–‡ä»¶

> é…ç½®æ–‡ä»¶`config.json`åœ¨`config`ç›®å½•ä¸‹

### é…ç½®é‚®ä»¶**å‘é€äºº**

```json
"auth": {
    "user": "2357823678@qq.com",
    "pass": "**********jxf"
}
```

`user`: å¡«å…¥ä½ çš„é‚®ç®±

`password`: **ä¸æ˜¯**QQå¯†ç ã€‚ç½‘é¡µç™»å½•QQé‚®ç®± `è®¾ç½®` -> `è´¦æˆ·`-> `POP3/IMAP/SMTP/Exchange/CardDAV/CalDAVæœåŠ¡`  -> `ç”Ÿæˆæˆæƒç `



### é…ç½®**æ”¶ä»¶äºº**

```json
"sendEmail": {
    "address": "2750633066@qq.com",
    "subject": "daily email"
}
```

`address`: æ”¶ä»¶äººé‚®ç®±

`subject`ï¼š é‚®ä»¶ä¸»é¢˜/æ ‡é¢˜

**Tips:** **ä¸æ”¯æŒ**é…ç½®å¤šä¸ªæ”¶ä»¶äºº



### é…ç½®çˆ¬å–**å¤©æ°”**çš„åŸå¸‚

```json
"address": "china/fujian/xiamen"
```

>â—ï¸
>
>é™¤äº†éƒ¨åˆ†åŸå¸‚ï¼ŒåŸºæœ¬åªè¦åªè¦é…ç½®çœä»½æ‹¼éŸ³å’ŒåŸå¸‚æ‹¼éŸ³å³å¯
>
>å¯ä»¥åœ¨[å¢¨è¿¹å¤©æ°”](https://tianqi.moji.com/weather/)ä¸­æŸ¥è¯¢æ‰€å¤„åŸå¸‚çš„åç§°



### é…ç½®é‡è¦**æ—¥æœŸæé†’**

```json
"commemoration": [
    {
      "name": "å›½åº†èŠ‚&#127881;",
      "date": "10-01",
      "advance": 150
    },
    {
      "name": "å¼€å­¦&#127891;",
      "date": "10-09",
      "advance": 150
    }
  ],
```

`name`: æ—¥æœŸåç§°ï¼›ä¸­æ–‡åé¢çš„ä»£ç æ˜¯**Emoji**çš„ã€‚å¯ä»¥åœ¨[w3schools](https://www.w3schools.com/charsets/ref_emoji.asp)æŸ¥è¯¢Emojiå¯¹åº”çš„Html Code

`date`: æ—¥æœŸ ï¼›ä¸è¦é…ç½®å¹´ä»½ï¼Œé»˜è®¤ä¸ºä»Šå¹´

`advance`: é…ç½®éœ€è¦æå‰å¤šå°‘å¤©å‘é€é‚®ä»¶æé†’



### é…ç½®éœ€è¦æ¸²æŸ“çš„å¡ç‰‡

```json
  "dataCard": [
    "å¤©æ°”",
    "çºªå¿µæ—¥",
    "çŸ¥ä¹æ—¥æŠ¥",
    "Words",
    "CuteCat",
    "ONE"
  ]
```

* åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ å°±**ä¸ä¼š**æ¸²æŸ“å¯¹åº”çš„å¡ç‰‡



### é…ç½®é‚®ä»¶å‘é€æ—¶é—´

```json
"interval": "00 20 08 * * *"
```

ä¾‹å­ä¸­é…ç½®çš„æ˜¯æ¯å¤©æ—©ä¸Š8ï¼š20å‘é€

* æ ¼å¼è¯´æ˜

```json
00   20   08   *    *    *
*    *    *    *    *    *
â”¬    â”¬    â”¬    â”¬    â”¬    â”¬
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â”‚    â”‚    â”‚    â”‚    â”‚    â”” day of week (0 - 7) (0 or 7 is Sun)
â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€ month (1 - 12)
â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of month (1 - 31)
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ second (0 - 59, OPTIONAL)
```

æ›´å¤šä¿¡æ¯å‚è€ƒ[node-schedule](https://github.com/node-schedule/node-schedule)å®˜æ–¹æ–‡æ¡£é…ç½®



## ğŸ“ å…³äº

* ç¯å¢ƒ

> **Node**ç‰ˆæœ¬: v14.16.0
>
> **Npm**ç‰ˆæœ¬: 6.14.11

* é¡¹ç›®ä½¿ç”¨åˆ°çš„åŒ…

> [cheerio](https://cheerio.js.org/) ä¸“ä¸ºæœåŠ¡å™¨è®¾è®¡çš„æ ¸å¿ƒ jQuery çš„å¿«é€Ÿã€çµæ´»å’Œç²¾ç®€çš„å®ç°ã€‚
>
> [iconv-lite](https://www.npmjs.com/package/iconv-lite) çº¯JSå­—ç¬¦ç¼–ç è½¬æ¢
>
> [node-schedule](node-schedule) å®šæ—¶ä½œä¸šå’Œè°ƒåº¦
>
> [request](https://www.npmjs.com/package/request) ç®€åŒ–çš„ HTTP å®¢æˆ·ç«¯
>
> [nodemailer](https://github.com/nodemailer/nodemailer) ä½¿ç”¨ Node.JS å‘é€ç”µå­é‚®ä»¶â€”â€”å°±åƒè›‹ç³•ä¸€æ ·ç®€å•ï¼

* ç‰¹åˆ«æ„Ÿè°¢ â—ï¸â—ï¸â—ï¸

[everyday-email](https://github.com/xuguanqun/everyday-email)
